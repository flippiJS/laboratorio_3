<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8" />
    <title>Ejemplo Grilla</title>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-alpha.4/css/bootstrap.min.css" />
</head>

<body>
    <div class="container">
        <div class="jumbotron" style="width: 500px; background-color: #ccc">
            <form action="javascript:void(0);" method="POST" onsubmit="app.Agregar()">
                <label>Nombre</label></br>
                <input class="form-control" id="iNombre" type="text" placeholder="Tu nombre..." /> </br>
                <label>Apellido</label></br>
                <input class="form-control" id="iApellido" type="text" placeholder="Tu apellido..." />
                <div class="row"></br>
                    <div class="col-md-7">
                        <button class="btn btn-primary" type="submit" style="background-color: #45a049; border-color: #45a049">Guardar</button>
                        <button class="btn btn-default" type="reset">Limpiar</button>
                    </div>
                </div>
            </form>
        </div>
        <p></p>
        <div class="row">
            <h3>Listado de personas</h3>
            <table class="table table-bordered table-striped table-condensed">
                <thead>
                    <tr>
                        <th>Nombre</th>
                        <th>Apellido</th>
                        <th>Accion</th>
                    </tr>
                </thead>
                <tbody id="tListado">
                </tbody>
            </table>
        </div>
    </div>

    <script>
        var app = new function () {
            this.el = document.getElementById('tListado');
            this.personas = [];

            this.ObtenerDatos = function () {
                var data = '';
                if (this.personas.length > 0) {
                    for (i = 0; i < this.personas.length; i++) {
                        data += '<tr>';
                        data += '<td>' + this.personas[i].nombre + '</td>';
                        data += '<td>' + this.personas[i].apellido + '</td>';
                        data += '<td><button class="btn btn-primary" onclick="app.Editar(' + i + ')">Editar</button>';
                        data += '<button class="btn btn-danger" onclick="app.Borrar(' + i + ')">Borrar</button></td>';
                        data += '</tr>';
                    }
                }
                return this.el.innerHTML = data;
            };
            this.Agregar = function () {
                var iNombre = document.getElementById('iNombre');
                var iApellido = document.getElementById('iApellido');
                if (iNombre.value && iApellido.value) {
                    const persona = {
                        nombre: iNombre.value,
                        apellido: iApellido.value
                    }
                    // Agregamos a la persona
                    this.personas.push(persona);
                    // Borramos los inputs
                    iNombre.value = '';
                    iApellido.value = '';
                    // Refrescamos la tabla
                    this.ObtenerDatos();
                }
            };
            this.Editar = function (item) {
                var el = document.getElementById('edit-name');
                // Mostramos el
                el.value = this.personas[item];
                // Mostramos para editar
                document.getElementById('valuespoiler').style.display = 'block';
                self = this;
                document.getElementById('saveEdit').onsubmit = function () {
                    // Obtenemos a la persona
                    var country = el.value;
                    if (country) {
                        // Modificamos el valor
                        self.personas.splice(item, 1, country.trim());
                        // Actualizamos la tabla
                        self.ObtenerDatos();
                        // Hide fields
                        CloseInput();
                    }
                }
            };
            this.Borrar = function (item) {
                // Borramos el elemento
                this.personas.splice(item, 1);
                // Actualizamos la lista
                this.ObtenerDatos();
            };

        }
        // Inicializamos
        app.ObtenerDatos();

        function LimpiarInputs() {
            document.getElementById('spoiler').style.display = 'none';
        }
    </script>
</body>

</html>